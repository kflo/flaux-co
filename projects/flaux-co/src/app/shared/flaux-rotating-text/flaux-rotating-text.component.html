<span class="sr-only">{{ currentText }}</span>

<div class="container"
	  [style.margin-block]="'1.5rem'"
	  (click)="onManualAdvance()">
	@if (currentTextIndex() >= 0) {
	<span class="words-wrapper"
			[class.lines]="isLines"
			aria-hidden="true">
		@for (wordObj of elements(); track wordObj; let wordIndex = $index) {
		<span class="word">
			@for (char of wordObj.characters; track charIndex; let charIndex = $index) {
			<span class="element"
					[class.highlight]="highlightActive()"
					[attr.data-char]="char"
					[style.animation-delay]="getStaggerDelay(wordIndex, charIndex)"
					[style.animation-duration.ms]="animationDuration"
					[style.animation-timing-function]="animationEasing"
					[style.letter-spacing]="letterSpacing"
					[style.--flashlight-duration.ms]="flashlightDuration"
					[style.--flashlight-delay]="getFlashlightDelay(wordIndex, charIndex)">
				{{ char }}
			</span>
			}
		</span>
		}
	</span>
	}

	@if (auto && topBar) {
	<div class="progress-bar top">
		<div class="progress-fill"
			  [style.width.%]="progressPercent()"></div>
	</div>
	}

	@if (auto && bottomBar) {
	<div class="progress-bar bottom">
		<div class="progress-fill"
			  [style.width.%]="progressPercent()"></div>
	</div>
	}
</div>